{
  "_format": "hh-sol-artifact-1",
  "contractName": "ZKVerifier",
  "sourceName": "contracts/core/ZKVerifier.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "NullifierUsed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        }
      ],
      "name": "RootValidated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [],
      "name": "VerificationKeyUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "groupNullifiers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "valid",
          "type": "bool"
        }
      ],
      "name": "setValidRoot",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "X",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "Y",
                  "type": "uint256"
                }
              ],
              "internalType": "struct ZKVerifier.G1Point",
              "name": "alpha",
              "type": "tuple"
            },
            {
              "components": [
                {
                  "internalType": "uint256[2]",
                  "name": "X",
                  "type": "uint256[2]"
                },
                {
                  "internalType": "uint256[2]",
                  "name": "Y",
                  "type": "uint256[2]"
                }
              ],
              "internalType": "struct ZKVerifier.G2Point",
              "name": "beta",
              "type": "tuple"
            },
            {
              "components": [
                {
                  "internalType": "uint256[2]",
                  "name": "X",
                  "type": "uint256[2]"
                },
                {
                  "internalType": "uint256[2]",
                  "name": "Y",
                  "type": "uint256[2]"
                }
              ],
              "internalType": "struct ZKVerifier.G2Point",
              "name": "gamma",
              "type": "tuple"
            },
            {
              "components": [
                {
                  "internalType": "uint256[2]",
                  "name": "X",
                  "type": "uint256[2]"
                },
                {
                  "internalType": "uint256[2]",
                  "name": "Y",
                  "type": "uint256[2]"
                }
              ],
              "internalType": "struct ZKVerifier.G2Point",
              "name": "delta",
              "type": "tuple"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "X",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "Y",
                  "type": "uint256"
                }
              ],
              "internalType": "struct ZKVerifier.G1Point[]",
              "name": "gammaABC",
              "type": "tuple[]"
            }
          ],
          "internalType": "struct ZKVerifier.VerifyingKey",
          "name": "newVk",
          "type": "tuple"
        }
      ],
      "name": "setVerifyingKey",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "validRoots",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "proof",
          "type": "bytes"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "verifyAndConsumeNullifier",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "proof",
          "type": "bytes"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "verifyMembership",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052346200042857600080546001600160a01b03191633179055620000266200042d565b600181526020810190600282526200003d6200042d565b6001815260016020820152620000526200042d565b6001815260016020820152620000676200042d565b918252602082019081526200007b6200042d565b6001815260016020820152620000906200042d565b906001825260016020830152620000a66200042d565b90815260208101918252620000ba6200042d565b926001845260016020850152620000d06200042d565b946001865260016020870152620000e66200042d565b948552602085019586526040519760a089016001600160401b0381118a8210176200041257604052600497888a5260005b60808110620003ed575060405160a081016001600160401b03811182821017620003d8578b91608091604052838152856020820152876040820152896060820152015251600155516002555160005b60028110620003c25750505160005b60028110620003ac5750505160005b60028110620003965750505160005b60028110620003805750505160005b600281106200036a5750505160005b600281106200035457505081516801000000000000000081116200033f57600f928354828555808310620002c2575b506020018360005260206000206000915b8383106200029657858560005b8181106200021657604051610ed490816200044e8239f35b620002206200042d565b60018152600260208201528354821015620002815762000259908460005260206000208360011b01906020600191805184550151910155565b60001981146200026c57600101620001fe565b601182634e487b7160e01b6000525260246000fd5b603283634e487b7160e01b6000525260246000fd5b6002602082620002b56001945186906020600191805184550151910155565b01920192019190620001f1565b6001600160ff1b0381811682036200032a578316830362000315578460005260206000209060011b8101908360011b015b818110620003025750620001e0565b60008082556001820155600201620002f3565b601184634e487b7160e01b6000525260246000fd5b601185634e487b7160e01b6000525260246000fd5b604182634e487b7160e01b6000525260246000fd5b6001906020835193019281600d015501620001b1565b6001906020835193019281600b015501620001a2565b6001906020835193019281600901550162000193565b6001906020835193019281600701550162000184565b6001906020835193019281600501550162000175565b6001906020835193019281600301550162000166565b60418b634e487b7160e01b6000525260246000fd5b808b60208093620003fd6200042d565b92600084526000838501520101520162000117565b634e487b7160e01b600052604160045260246000fd5b600080fd5b60408051919082016001600160401b03811183821017620004125760405256fe6080604052600436101561001257600080fd5b6000803560e01c90816319b390e81461008a5750806325d39f431461008557806326f1a864146100805780638da5cb5b1461007b578063ad08d20914610076578063cf90c6b6146100715763fb8f16fb1461006c57600080fd5b61042d565b61034a565b6102ba565b610291565b610252565b610121565b346100c35760403660031901126100c357604060ff91600435815260116020528181206024358252602052205416151560805260206080f35b80fd5b90608060031983011261011c5760043567ffffffffffffffff9283821161011c578060238301121561011c57816004013593841161011c576024848301011161011c576024019190602435906044359060643590565b600080fd5b3461011c576101d86101bd61018f610138366100c6565b959361014b610100859397949514610721565b610156871515610764565b85600052601160205260406000208760005260205261018a610185610181604060002060ff90541690565b1590565b6107b0565b610c72565b610197610876565b916101a1836108a3565b52836101ac836108b5565b52846101b7836108c5565b526109ea565b91826101dc575b505060405190151581529081906020820190565b0390f35b6102488161023861022b7f7bf7b383fa73202309da50f1feabeff4936f245a2f469ad667e684555c92eb2b9461021c876000526011602052604060002090565b90600052602052604060002090565b805460ff19166001179055565b6040519081529081906020820190565b0390a238806101c4565b3461011c57604036600319011261011c5760043560005260106020526040600020602435600052602052602060ff604060002054166040519015158152f35b3461011c57600036600319011261011c576000546040516001600160a01b039091168152602090f35b3461011c57606036600319011261011c57604435600435602435821515830361011c5760207fa15474ecae8e2948af6aa117308b027ee98a3ceabb662802e18256d92bea10419161034060009561031b60018060a01b0388541633146104c2565b85875260108452604087208388528452604087209060ff801983541691151516179055565b604051908152a280f35b3461011c576020600319818136011261011c5760043567ffffffffffffffff811161011c576101e08160040192823603011261011c5760009261039760018060a01b0385541633146104c2565b60019083358255600290602484013582556044840190865b83811061041b57876103f46103ee896101c48a6103ce60848201610541565b6103da60c48201610565565b6103e761014482016105af565b01906105f9565b9061062f565b7f700ad29a50ef4fb344099eee3ea1747a3082e61404dc86e753b7fde79277e8068180a180f35b823560038201559181019184016103af565b3461011c5760206104b8610486610443366100c6565b9290936104566101008397949714610721565b610461841515610764565b8460005260118852604060002084600052885261018a60ff60406000205416156107b0565b9161048f610835565b9360038552606036888701376104a4856108a3565b526104ae846108b5565b526101b7836108c5565b6040519015158152f35b156104c957565b60405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b6044820152606490fd5b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b908160051b918083046020149015171561053c57565b610510565b60005b60028110610550575050565b60019060208335930192816005015501610544565b8060005b6002811061059a57505060400160005b60028110610585575050565b60019060208335930192816009015501610579565b60019060208335930192816007015501610569565b8060005b600281106105e457505060400160005b600281106105cf575050565b6001906020833593019281600d0155016105c3565b6001906020833593019281600b0155016105b3565b903590601e198136030182121561011c570180359067ffffffffffffffff821161011c57602001918160061b3603831361011c57565b68010000000000000000821161071c57600f5482600f558083106106af575b50600f6000527f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac8026000915b8383106106865750505050565b60026040826106a360019486906020600191803584550135910155565b01920192019190610679565b6001600160ff1b03818116820361053c578316830361053c576000600f815260017f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac80292811b83019285821b015b83811061070b5750505061064e565b8083600292558383820155016106fc565b6104fa565b1561072857565b60405162461bcd60e51b8152602060048201526014602482015273092dcecc2d8d2c840e0e4dedecc40d8cadccee8d60631b6044820152606490fd5b1561076b57565b60405162461bcd60e51b815260206004820152601860248201527f4e756c6c69666965722063616e6e6f74206265207a65726f00000000000000006044820152606490fd5b156107b757565b60405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b6044820152606490fd5b604051906040820182811067ffffffffffffffff82111761071c57604052565b604051906060820182811067ffffffffffffffff82111761071c57604052565b604051906080820182811067ffffffffffffffff82111761071c57604052565b60405190610300820182811067ffffffffffffffff82111761071c57604052565b61087e610835565b60038152906060366020840137565b634e487b7160e01b600052603260045260246000fd5b8051156108b05760200190565b61088d565b8051600110156108b05760400190565b8051600210156108b05760600190565b80518210156108b05760209160051b010190565b600019811461053c5760010190565b156108ff57565b60405162461bcd60e51b8152602060048201526016602482015275546f6f206d616e79207075626c696320696e7075747360501b6044820152606490fd5b600f548110156108b057600f60005260011b7f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac8020190600090565b9060016109826107f5565b928054845201546020830152565b604051906020820182811067ffffffffffffffff82111761071c576040526020368337565b6040519061010080830183811067ffffffffffffffff82111761071c57604052368337565b6109e26107f5565b906040368337565b9190916109f56107f5565b6000928382526020918483820152918493600f54935b8751861015610a5f57610a53610a5991610a268789106108f8565b610a4d8a610a48610a418b610a3a8161093d565b50936108d5565b5191610977565b610ded565b90610d6f565b956108e9565b94610a0b565b61030096939750829550610a74919450610e50565b81610a826040860151610e50565b918180610a8d610855565b8851518152885182015182820152970180515160200151604089015280515151606089015280518201516020015160808901525101515160a0870152805160c0870152015160e0850152600854610100850152600754610120850152600a54610140850152600954610160850152805161018085015201516101a0830152600c546101c0830152600b546101e0830152600e54610200830152600d54610220830152806102408301528061026083015280610280830152806102a0830152806102c08301526102e0820152610b60610990565b92839160085afa9081610b71575090565b60019150511490565b610b82610815565b90610b8b6107f5565b60008152600060208201528252610ba06107f5565b610ba86107f5565b60403682378152610bb76107f5565b604036823760208201526020830152610bce6107f5565b60008152600060208201526040830152565b15610be757565b60405162461bcd60e51b815260206004820152600f60248201526e141c9bdbd9881d1bdbc81cda1bdc9d608a1b6044820152606490fd5b906001820180921161053c57565b9093929384831161011c57841161011c578101920390565b359060208110610c52575090565b6000199060200360031b1b1690565b9060088110156108b05760051b0190565b90610c7b610b7a565b50610c8a610100821015610be0565b610c926109b5565b9160005b60088110610d2857505050805190602080820151610cb26107f5565b93845281840152610cc16107f5565b9060608301518252604083015181830152610cda6107f5565b60a08401518152608084015182820152610cf26107f5565b9283528183015260e060c0840151930151610d0b6107f5565b93845281840152610d1a610815565b938452830152604082015290565b80610d5a610d54610d3b610d6a94610526565b610d4c610d4785610c1e565b610526565b908787610c2c565b90610c44565b610d648287610c61565b526108e9565b610c96565b610d776107f5565b90600082526000602080930152604051608081019181831067ffffffffffffffff84111761071c5760809484809260409586528051855201518284015280518484015201516060820152610dc96109da565b93849160065afa1561011c5780825192015190610de46107f5565b92835282015290565b60409060609260006020610dff6107f5565b82815201526020610e0e610815565b92805184520151602083015282820152610e266107f5565b9283918336843760075afa1561011c5760208151910151610e456107f5565b918252602082015290565b60006020610e5c6107f5565b828152015260208151917f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001918291015106810390811161053c57610e456107f556fea2646970667358221220bc8024321b5256c5b6d82060e00fb53b5a4edf159d9cd9a49b8165a6d625e1ec64736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436101561001257600080fd5b6000803560e01c90816319b390e81461008a5750806325d39f431461008557806326f1a864146100805780638da5cb5b1461007b578063ad08d20914610076578063cf90c6b6146100715763fb8f16fb1461006c57600080fd5b61042d565b61034a565b6102ba565b610291565b610252565b610121565b346100c35760403660031901126100c357604060ff91600435815260116020528181206024358252602052205416151560805260206080f35b80fd5b90608060031983011261011c5760043567ffffffffffffffff9283821161011c578060238301121561011c57816004013593841161011c576024848301011161011c576024019190602435906044359060643590565b600080fd5b3461011c576101d86101bd61018f610138366100c6565b959361014b610100859397949514610721565b610156871515610764565b85600052601160205260406000208760005260205261018a610185610181604060002060ff90541690565b1590565b6107b0565b610c72565b610197610876565b916101a1836108a3565b52836101ac836108b5565b52846101b7836108c5565b526109ea565b91826101dc575b505060405190151581529081906020820190565b0390f35b6102488161023861022b7f7bf7b383fa73202309da50f1feabeff4936f245a2f469ad667e684555c92eb2b9461021c876000526011602052604060002090565b90600052602052604060002090565b805460ff19166001179055565b6040519081529081906020820190565b0390a238806101c4565b3461011c57604036600319011261011c5760043560005260106020526040600020602435600052602052602060ff604060002054166040519015158152f35b3461011c57600036600319011261011c576000546040516001600160a01b039091168152602090f35b3461011c57606036600319011261011c57604435600435602435821515830361011c5760207fa15474ecae8e2948af6aa117308b027ee98a3ceabb662802e18256d92bea10419161034060009561031b60018060a01b0388541633146104c2565b85875260108452604087208388528452604087209060ff801983541691151516179055565b604051908152a280f35b3461011c576020600319818136011261011c5760043567ffffffffffffffff811161011c576101e08160040192823603011261011c5760009261039760018060a01b0385541633146104c2565b60019083358255600290602484013582556044840190865b83811061041b57876103f46103ee896101c48a6103ce60848201610541565b6103da60c48201610565565b6103e761014482016105af565b01906105f9565b9061062f565b7f700ad29a50ef4fb344099eee3ea1747a3082e61404dc86e753b7fde79277e8068180a180f35b823560038201559181019184016103af565b3461011c5760206104b8610486610443366100c6565b9290936104566101008397949714610721565b610461841515610764565b8460005260118852604060002084600052885261018a60ff60406000205416156107b0565b9161048f610835565b9360038552606036888701376104a4856108a3565b526104ae846108b5565b526101b7836108c5565b6040519015158152f35b156104c957565b60405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b6044820152606490fd5b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b908160051b918083046020149015171561053c57565b610510565b60005b60028110610550575050565b60019060208335930192816005015501610544565b8060005b6002811061059a57505060400160005b60028110610585575050565b60019060208335930192816009015501610579565b60019060208335930192816007015501610569565b8060005b600281106105e457505060400160005b600281106105cf575050565b6001906020833593019281600d0155016105c3565b6001906020833593019281600b0155016105b3565b903590601e198136030182121561011c570180359067ffffffffffffffff821161011c57602001918160061b3603831361011c57565b68010000000000000000821161071c57600f5482600f558083106106af575b50600f6000527f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac8026000915b8383106106865750505050565b60026040826106a360019486906020600191803584550135910155565b01920192019190610679565b6001600160ff1b03818116820361053c578316830361053c576000600f815260017f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac80292811b83019285821b015b83811061070b5750505061064e565b8083600292558383820155016106fc565b6104fa565b1561072857565b60405162461bcd60e51b8152602060048201526014602482015273092dcecc2d8d2c840e0e4dedecc40d8cadccee8d60631b6044820152606490fd5b1561076b57565b60405162461bcd60e51b815260206004820152601860248201527f4e756c6c69666965722063616e6e6f74206265207a65726f00000000000000006044820152606490fd5b156107b757565b60405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b6044820152606490fd5b604051906040820182811067ffffffffffffffff82111761071c57604052565b604051906060820182811067ffffffffffffffff82111761071c57604052565b604051906080820182811067ffffffffffffffff82111761071c57604052565b60405190610300820182811067ffffffffffffffff82111761071c57604052565b61087e610835565b60038152906060366020840137565b634e487b7160e01b600052603260045260246000fd5b8051156108b05760200190565b61088d565b8051600110156108b05760400190565b8051600210156108b05760600190565b80518210156108b05760209160051b010190565b600019811461053c5760010190565b156108ff57565b60405162461bcd60e51b8152602060048201526016602482015275546f6f206d616e79207075626c696320696e7075747360501b6044820152606490fd5b600f548110156108b057600f60005260011b7f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac8020190600090565b9060016109826107f5565b928054845201546020830152565b604051906020820182811067ffffffffffffffff82111761071c576040526020368337565b6040519061010080830183811067ffffffffffffffff82111761071c57604052368337565b6109e26107f5565b906040368337565b9190916109f56107f5565b6000928382526020918483820152918493600f54935b8751861015610a5f57610a53610a5991610a268789106108f8565b610a4d8a610a48610a418b610a3a8161093d565b50936108d5565b5191610977565b610ded565b90610d6f565b956108e9565b94610a0b565b61030096939750829550610a74919450610e50565b81610a826040860151610e50565b918180610a8d610855565b8851518152885182015182820152970180515160200151604089015280515151606089015280518201516020015160808901525101515160a0870152805160c0870152015160e0850152600854610100850152600754610120850152600a54610140850152600954610160850152805161018085015201516101a0830152600c546101c0830152600b546101e0830152600e54610200830152600d54610220830152806102408301528061026083015280610280830152806102a0830152806102c08301526102e0820152610b60610990565b92839160085afa9081610b71575090565b60019150511490565b610b82610815565b90610b8b6107f5565b60008152600060208201528252610ba06107f5565b610ba86107f5565b60403682378152610bb76107f5565b604036823760208201526020830152610bce6107f5565b60008152600060208201526040830152565b15610be757565b60405162461bcd60e51b815260206004820152600f60248201526e141c9bdbd9881d1bdbc81cda1bdc9d608a1b6044820152606490fd5b906001820180921161053c57565b9093929384831161011c57841161011c578101920390565b359060208110610c52575090565b6000199060200360031b1b1690565b9060088110156108b05760051b0190565b90610c7b610b7a565b50610c8a610100821015610be0565b610c926109b5565b9160005b60088110610d2857505050805190602080820151610cb26107f5565b93845281840152610cc16107f5565b9060608301518252604083015181830152610cda6107f5565b60a08401518152608084015182820152610cf26107f5565b9283528183015260e060c0840151930151610d0b6107f5565b93845281840152610d1a610815565b938452830152604082015290565b80610d5a610d54610d3b610d6a94610526565b610d4c610d4785610c1e565b610526565b908787610c2c565b90610c44565b610d648287610c61565b526108e9565b610c96565b610d776107f5565b90600082526000602080930152604051608081019181831067ffffffffffffffff84111761071c5760809484809260409586528051855201518284015280518484015201516060820152610dc96109da565b93849160065afa1561011c5780825192015190610de46107f5565b92835282015290565b60409060609260006020610dff6107f5565b82815201526020610e0e610815565b92805184520151602083015282820152610e266107f5565b9283918336843760075afa1561011c5760208151910151610e456107f5565b918252602082015290565b60006020610e5c6107f5565b828152015260208151917f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001918291015106810390811161053c57610e456107f556fea2646970667358221220bc8024321b5256c5b6d82060e00fb53b5a4edf159d9cd9a49b8165a6d625e1ec64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
