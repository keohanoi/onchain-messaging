{
  "_format": "hh-sol-artifact-1",
  "contractName": "GroupRegistry",
  "sourceName": "contracts/core/GroupRegistry.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "admin",
          "type": "address"
        }
      ],
      "name": "GroupCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "newEncryptedKey",
          "type": "bytes"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newEpoch",
          "type": "uint256"
        }
      ],
      "name": "GroupKeyRotated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "identityCommitment",
          "type": "bytes32"
        }
      ],
      "name": "MemberAdded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "identityCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newMerkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "encryptedKeyForMember",
          "type": "bytes"
        }
      ],
      "name": "addMember",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "isPublic",
          "type": "bool"
        },
        {
          "internalType": "bytes",
          "name": "adminEncryptedKey",
          "type": "bytes"
        }
      ],
      "name": "createGroup",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "groups",
      "outputs": [
        {
          "internalType": "address",
          "name": "admin",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "memberCount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isPublic",
          "type": "bool"
        },
        {
          "internalType": "bytes",
          "name": "encryptedGroupKey",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "epoch",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "memberEncryptedKeys",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "groupId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "newEncryptedGroupKey",
          "type": "bytes"
        }
      ],
      "name": "rotateGroupKey",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608080604052346100165761096b908161001c8239f35b600080fdfe608060408181526004918236101561001657600080fd5b600090813560e01c90816359f8924614610485575080637ea6211714610436578063d3bad36814610287578063ddeef5b7146100de5763ef161bcb1461005b57600080fd5b346100db5760203660031901126100db578190833581528060205220906100d160018060a01b0383541692600181015494600282015460056100a660ff6003860154169385016107c3565b930154948051978897885260208801528601521515606085015260c0608085015260c0840190610869565b9060a08301520390f35b80fd5b50903461028357806003193601126102835782359067ffffffffffffffff9060243582811161027f57610114903690870161071e565b9284865260209086825283872061013560018060a01b0382541633146108fd565b88810191861161026c576101538661014d8454610751565b846108a9565b879186601f8111600114610204576005938a916101f9575b508760011b906000198960031b1c19161790555b0191825492600184018094116101e65792859492857f479b4ba8c2af1ac84341b9ab248a8186984f1aef769921cbbe1e561cfc5bcd58979383606097558551978689978852870152868601378383018501899052830152601f01601f19168101030190a280f35b634e487b7160e01b885260118952602488fd5b90508501353861016b565b50808952838920899388601f1981165b8781881061025057506005965010610236575b5050600187811b01905561017f565b86013560001960038a901b60f8161c191690553880610227565b838a0135855596870196600190940193909201918a9150610214565b634e487b7160e01b885260418952602488fd5b8480fd5b5080fd5b508234610283576080366003190112610283578035906064359367ffffffffffffffff9485811161027f576102bf903690840161071e565b959092848652602093868552838720916102e360018060a01b0384541633146108fd565b600283018054604435600195860155908482019081831161042357558789528387528589209089528652848820938911610410575061032c886103268554610751565b856108a9565b8690601f8911600114610390579780928192899a7f95f2c6778a97783858e2e08e96dd2f7a1d01c70f5a6375579c7aa7640d8aedc5999a94610385575b50501b916000199060031b1c19161790555b516024358152a280f35b013592508a80610369565b9790601f1982169884895286892091895b8b81106103fb5750837f95f2c6778a97783858e2e08e96dd2f7a1d01c70f5a6375579c7aa7640d8aedc5999a9b106103e1575b505050811b01905561037b565b0135600019600384901b60f8161c191690558880806103d4565b828201358455928501929088019088016103a1565b634e487b7160e01b885260419052602487fd5b634e487b7160e01b8b526011845260248bfd5b5091346104815781600319360112610481578161047d9361046a9235815260016020528181206024358252602052206107c3565b9051918291602083526020830190610869565b0390f35b8280fd5b8493915034610481576060366003190112610481578335916024359182151580930361027f5767ffffffffffffffff9060443582811161071a576104cc903690890161071e565b909286885260209588875260018060a01b039384878b2054166106ea575085519460c08601868110848211176106c0578752338652878601918a8352878701928b8452606088019182528486116106d757885195601f1993610535601f830186168d018961078b565b81885236828201116106d357818e928d92838b0137880101526080880195865260a08801968c88528b8d528c8b52898d209851166bffffffffffffffffffffffff60a01b895416178855519260019384890155516002880155600387019051151560ff801983541691161790558a8601935180519384116106c0578a9b506105ca846105c4879d9c9d54610751565b876108a9565b8891601f85116001146106335750928092819260059796957fe6a96675e2b0e31cf54a0b5ba9b935dcd1a4374a0f999a4a071d9144c9b47d569c94610628575b50501b916000199060031b1c19161790555b5191015551338152a280f35b015192508d8061060a565b909294959697989950831691858c52898c20928c5b8181106106ab5750917fe6a96675e2b0e31cf54a0b5ba9b935dcd1a4374a0f999a4a071d9144c9b47d569a99989795939185600598969410610692575b505050811b01905561061c565b015160001960f88460031b161c191690558b8080610685565b82840151855593860193928b01928b01610648565b634e487b7160e01b8b5260418c5260248bfd5b8d80fd5b634e487b7160e01b8c5260418d5260248cfd5b62461bcd60e51b81528a8101889052600c60248201526b47726f75702065786973747360a01b6044820152606490fd5b8680fd5b9181601f8401121561074c5782359167ffffffffffffffff831161074c576020838186019501011161074c57565b600080fd5b90600182811c92168015610781575b602083101461076b57565b634e487b7160e01b600052602260045260246000fd5b91607f1691610760565b90601f8019910116810190811067ffffffffffffffff8211176107ad57604052565b634e487b7160e01b600052604160045260246000fd5b90604051918260008254926107d784610751565b9081845260019485811690816000146108465750600114610803575b50506108019250038361078b565b565b9093915060005260209081600020936000915b81831061082e575050610801935082010138806107f3565b85548884018501529485019487945091830191610816565b91505061080194506020925060ff191682840152151560051b82010138806107f3565b919082519283825260005b848110610895575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610874565b90601f81116108b757505050565b600091825260208220906020601f850160051c830194106108f3575b601f0160051c01915b8281106108e857505050565b8181556001016108dc565b90925082906108d3565b1561090457565b60405162461bcd60e51b81526020600482015260096024820152682737ba1030b236b4b760b91b6044820152606490fdfea2646970667358221220daac2b6cf7fedb1a54df48a56a72e252f0e19be0170d968f989dbc84476e778164736f6c63430008140033",
  "deployedBytecode": "0x608060408181526004918236101561001657600080fd5b600090813560e01c90816359f8924614610485575080637ea6211714610436578063d3bad36814610287578063ddeef5b7146100de5763ef161bcb1461005b57600080fd5b346100db5760203660031901126100db578190833581528060205220906100d160018060a01b0383541692600181015494600282015460056100a660ff6003860154169385016107c3565b930154948051978897885260208801528601521515606085015260c0608085015260c0840190610869565b9060a08301520390f35b80fd5b50903461028357806003193601126102835782359067ffffffffffffffff9060243582811161027f57610114903690870161071e565b9284865260209086825283872061013560018060a01b0382541633146108fd565b88810191861161026c576101538661014d8454610751565b846108a9565b879186601f8111600114610204576005938a916101f9575b508760011b906000198960031b1c19161790555b0191825492600184018094116101e65792859492857f479b4ba8c2af1ac84341b9ab248a8186984f1aef769921cbbe1e561cfc5bcd58979383606097558551978689978852870152868601378383018501899052830152601f01601f19168101030190a280f35b634e487b7160e01b885260118952602488fd5b90508501353861016b565b50808952838920899388601f1981165b8781881061025057506005965010610236575b5050600187811b01905561017f565b86013560001960038a901b60f8161c191690553880610227565b838a0135855596870196600190940193909201918a9150610214565b634e487b7160e01b885260418952602488fd5b8480fd5b5080fd5b508234610283576080366003190112610283578035906064359367ffffffffffffffff9485811161027f576102bf903690840161071e565b959092848652602093868552838720916102e360018060a01b0384541633146108fd565b600283018054604435600195860155908482019081831161042357558789528387528589209089528652848820938911610410575061032c886103268554610751565b856108a9565b8690601f8911600114610390579780928192899a7f95f2c6778a97783858e2e08e96dd2f7a1d01c70f5a6375579c7aa7640d8aedc5999a94610385575b50501b916000199060031b1c19161790555b516024358152a280f35b013592508a80610369565b9790601f1982169884895286892091895b8b81106103fb5750837f95f2c6778a97783858e2e08e96dd2f7a1d01c70f5a6375579c7aa7640d8aedc5999a9b106103e1575b505050811b01905561037b565b0135600019600384901b60f8161c191690558880806103d4565b828201358455928501929088019088016103a1565b634e487b7160e01b885260419052602487fd5b634e487b7160e01b8b526011845260248bfd5b5091346104815781600319360112610481578161047d9361046a9235815260016020528181206024358252602052206107c3565b9051918291602083526020830190610869565b0390f35b8280fd5b8493915034610481576060366003190112610481578335916024359182151580930361027f5767ffffffffffffffff9060443582811161071a576104cc903690890161071e565b909286885260209588875260018060a01b039384878b2054166106ea575085519460c08601868110848211176106c0578752338652878601918a8352878701928b8452606088019182528486116106d757885195601f1993610535601f830186168d018961078b565b81885236828201116106d357818e928d92838b0137880101526080880195865260a08801968c88528b8d528c8b52898d209851166bffffffffffffffffffffffff60a01b895416178855519260019384890155516002880155600387019051151560ff801983541691161790558a8601935180519384116106c0578a9b506105ca846105c4879d9c9d54610751565b876108a9565b8891601f85116001146106335750928092819260059796957fe6a96675e2b0e31cf54a0b5ba9b935dcd1a4374a0f999a4a071d9144c9b47d569c94610628575b50501b916000199060031b1c19161790555b5191015551338152a280f35b015192508d8061060a565b909294959697989950831691858c52898c20928c5b8181106106ab5750917fe6a96675e2b0e31cf54a0b5ba9b935dcd1a4374a0f999a4a071d9144c9b47d569a99989795939185600598969410610692575b505050811b01905561061c565b015160001960f88460031b161c191690558b8080610685565b82840151855593860193928b01928b01610648565b634e487b7160e01b8b5260418c5260248bfd5b8d80fd5b634e487b7160e01b8c5260418d5260248cfd5b62461bcd60e51b81528a8101889052600c60248201526b47726f75702065786973747360a01b6044820152606490fd5b8680fd5b9181601f8401121561074c5782359167ffffffffffffffff831161074c576020838186019501011161074c57565b600080fd5b90600182811c92168015610781575b602083101461076b57565b634e487b7160e01b600052602260045260246000fd5b91607f1691610760565b90601f8019910116810190811067ffffffffffffffff8211176107ad57604052565b634e487b7160e01b600052604160045260246000fd5b90604051918260008254926107d784610751565b9081845260019485811690816000146108465750600114610803575b50506108019250038361078b565b565b9093915060005260209081600020936000915b81831061082e575050610801935082010138806107f3565b85548884018501529485019487945091830191610816565b91505061080194506020925060ff191682840152151560051b82010138806107f3565b919082519283825260005b848110610895575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610874565b90601f81116108b757505050565b600091825260208220906020601f850160051c830194106108f3575b601f0160051c01915b8281106108e857505050565b8181556001016108dc565b90925082906108d3565b1561090457565b60405162461bcd60e51b81526020600482015260096024820152682737ba1030b236b4b760b91b6044820152606490fdfea2646970667358221220daac2b6cf7fedb1a54df48a56a72e252f0e19be0170d968f989dbc84476e778164736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
